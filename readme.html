<h3>Installation</h3>
	<ul>
<li>Either:

<ul>
<li>Put the postie.zip file in wp-content/plugins/ and unzip it</li>
</ul></li>
<li>Or:

<ul>
<li>Use the automatic installer (WP 2.7+)</li>
</ul></li>
<li>Login to WordPress as an administrator</li>
<li>Goto the Plugins tab in the WordPress Admin Site</li>
<li>Activate "Postie"</li>
<li>Goto to the "Settings" tab and click on the sub-tab "Postie" to configure it.</li>
<li>Make sure you enter the mailserver information correctly, including the type
of connection and the port number. Common port configurations:

<ul>
<li>pop3: 110 </li>
<li>pop3-ssl: 995</li>
<li>imap: 143</li>
<li>imap-ssl: 993</li>
</ul></li>
<li>(Postie ignores the settings under Settings-&gt;Writing-&gt;Writing-by-Email)</li>
</ul>

<h4>Automating checking e-mail</h4>

<p>WordPress cron (which Postie relies on) doesn't run unless a page is accessed on 
the site. So if you send an email, but nobody accesses the site for 3 days Postie 
won't be given the chance to fetch the email and publish the post.</p>

<p>To ensure that Postie runs smoothly on a low or no volume site you need to ensure 
that a page gets hit (any page is fine). Use something like cron + curl on Linux 
or install curl on Windows and use the Scheduled Tasks control panel. If you are 
using a hosting company that doesn't allow you access to cron you can use a service 
like SetCronJob.</p>

<p>By default, postie checks for new e-mail every 30 minutes. You can select from
a number of different checking intervals in the settings page, under the
Mailserver tab.</p>

<h4>Forcing e-mail check</h4>

<p>If you would prefer to have more fine-grained control of how postie checks
for mail, you can also set up a crontab. This is for advanced users only.</p>

<p>Setup a cronjob to pull down the get&#095;mail.php - note that every time you access
get&#095;mail.php Postie will run - it is like clicking Run Postie on the Admin screen.</p>

<h4>Linux</h4>

<p>If your site runs on a UNIX/linux server, and you have shell access, you can
enable mail checking using cron.</p>

<p>Examples:</p>

<p>*/5 * * * * /usr/bin/lynx --source <a href="http://blog.robfelty.com/wp-content/plugins/postie/get&#095;mail.php" rel="nofollow">http://blog.robfelty.com/wp-content/plugins/postie/get&#095;mail.php</a> &gt;/dev/null 2&gt;&amp;1</p>

<p>This fetches the mail every five minutes with lynx</p>

<p>*/10 * * * * /usr/bin/wget -O /dev/null <a href="http://blog.robfelty.com/wp-content/plugins/postie/get&#095;mail.php" rel="nofollow">http://blog.robfelty.com/wp-content/plugins/postie/get&#095;mail.php</a> &gt;/dev/null 2&gt;&amp;1</p>

<p>This fetches the mail every ten minutes with wget</p>

<h4>Windows</h4>

<p>You will need to install <a href="http://gnuwin32.sourceforge.net/packages/wget.htm">wget</a> or <a href="http://curl.haxx.se/dlwiz/">curl</a>
Then use the Task Scheduler control panel to call wget or cron.</p>	<hr />
		<h3>Upgrade Notice</h3>
	<dl>
		<dt>1.4.18</dt>
		<dd>Many method names have been changed. Any custom filters may need to be updated.</dd>
		<dt>1.4.10</dt>
		<dd>All script, style and body tags are stripped from html emails.</dd>
		<dt>1.4.6</dt>
		<dd>Attachments are now processed in the order they were attached.</dd>
	</dl>

	<h3 id='Usage'>Usage</h3>
<ul>
<li>If you put in :start - the message processing won't start until it sees that string.</li>
<li>If you put in :end - the message processing will stop once it sees that string.</li>
<li>Posts can have a specific publication date. Relative dates like "tomorrow", "monday", "first day of next month" are supported.

<ul>
<li>date: date</li>
<li>date: date time</li>
</ul></li>
<li>Posts can be delayed by adding a line with delayXdXhXm where X is a number.

<ul>
<li>delay:1d - 1 day</li>
<li>delay:1h - 1 hour</li>
<li>delay:1m - 1 minute</li>
<li>delay:1d2h4m - 1 day 2 hours 4m</li>
</ul></li>
<li>By putting comments:X in your message you can control if comments are allowed

<ul>
<li>comments:0 - means closed</li>
<li>comments:1 - means open</li>
<li>comments:2 - means registered only</li>
</ul></li>
<li>Replying to an e-mail gets posted as a comment. 

<ul>
<li>For example, you e-mailed a post with the subject line "foo".
If you then send an e-mail with the subject line "Re: foo", it will
get posted as a comment to the "foo" post. This works by the subject
line, so if you have two posts with titles "foo", then the comment
will get placed in the more recent post.</li>
</ul></li>
<li>Custom excerpt

<ul>
<li>You can include a custom excerpt of an e-mail by putting it between
:excerptstart and :excerptend</li>
<li>You can include images in the excerpt by using the shortcode #eimg1#,
#eimg2# etc.</li>
</ul></li>
</ul>

<h4>Post type</h4>

<p>You can specify the post type by including it as the first part of the subject
  E.g. post type//real subject</p>

<h4>Category and tag handling</h4>

<ul>
<li>If you put a category name in the subject with a : it will be used
as the category for the post</li>
<li>If you put a category id number in the subject with a : it will
be used as the category for the post</li>
<li><p>If you put the first part of a category name it will be posted in
the first category that the system finds that matches - so if you put</p>

<p>Gen: New News</p>

<p>The system will post that in General.</p></li>
<li><p>All of the above also applies if you put the category in brackets []</p></li>
<li><p>Using [] or you can post to multiple categories at once</p>

<p>Subject: [1] [Mo] [Br] My Subject</p>

<p>On my blog it would post to General (Id 1), Moblog, and Brewing all at one time</p></li>
<li><p>Using - or you can post to multiple categories at once</p>

<p>Subject: -1- -Mo- -Br- My Subject</p>

<p>On my blog it would post to General (Id 1), Moblog, and Brewing all at one time</p></li>
</ul>

<h4>Tags</h4>

<ul>
<li>You can add tags by adding a line in the body of the message like so:
tags: foo, bar</li>
<li>You can also set a default tag to be applied if no tags are included.</li>
</ul>

<h4>Image Handling</h4>

<ul>
<li>Allows you to attach images to your email and automatically post
them to your blog</li>
<li>You can publish images in the text of your message by using #img1#
#img2# - each one will be replaced with the HTML for the image
you attached</li>
<li><p>Captions - you can also add a caption like so:</p>

<ul>
<li>#img1 caption='foo'#</li>
<li>#img2 caption='bar'#</li>
</ul>

<p>Or, if you use IPTC captions, this caption will be used  (adding a caption
in many photo editing programs (for example Picasa), will add an IPTC caption)</p>

<p>Note that the images are processed in the order they are attached as of version
1.4.6.</p></li>
<li><p>Image templates
Postie now uses the default wordpress image template, but you can specify a
different one if you wish.</p>

<p>You can also specify a custom image template. I use the following custom
template:</p>

<p><code>&lt;div class='imageframe alignleft'&gt;&lt;a href='{IMAGE}'&gt;&lt;img src="{THUMBNAIL}"
alt="{CAPTION}" title="{CAPTION}" 
class="attachment" /&gt;&lt;/a&gt;&lt;div
class='imagecaption'&gt;{CAPTION}&lt;/div&gt;&lt;/div&gt;</code></p>

<ul>
<li>{CAPTION} gets replaced with the caption you specified (if any)</li>
<li>{FILELINK} gets replaced with the url to the media</li>
<li>{FILENAME} gets replaced with the name of the attachment from the email</li>
<li>{FULL} same as {FILELINK}</li>
<li>{HEIGHT} gets replaced with the height of the photo</li>
<li>{ID} gets replaced with the post id</li>
<li>{IMAGE} same as {FILELINK}</li>
<li>{LARGEHEIGHT} gets replaced with the height of a large image</li>
<li>{LARGEWIDTH} gets replaced with the width of a large image</li>
<li>{LARGE} gets replaced with the url to the large-sized image</li>
<li>{MEDIUMHEIGHT} gets replaced with the height of a medium image</li>
<li>{MEDIUMWIDTH} gets replaced with the width of a medium image</li>
<li>{MEDIUM} gets replaced with the url to the medium-sized image</li>
<li>{PAGELINK} gets replaced with the URL of the file in WordPress</li>
<li>{POSTTITLE} gets replaced with the post title (subject)</li>
<li>{RELFILENAME} gets replaced with the relative path to the full-size image</li>
<li>{THUMBHEIGHT} gets replaced with the height of a thumbnail image</li>
<li>{THUMB} gets replaced with the url to the thumbnail image</li>
<li>{THUMBNAIL} same as {THUMB}</li>
<li>{THUMBWIDTH} gets replaced with the width of a thumbnail image</li>
<li>{TITLE} same as {POSTTITLE}</li>
<li>{URL} same as {FILELINK}</li>
<li>{WIDTH} gets replaced with width of the photo</li>
</ul></li>
</ul>

<h4>Interoperability</h4>

<ul>
<li>If your mail client doesn't support setting the subject (nokia) you
can do so by putting #your subject/title here# at the beginning of your message</li>
<li>POP3,POP3-SSL,IMAP,IMAP-SSL now supported - last three require
php-imap support</li>
<li>The program understands enough about mime to not duplicate post
if you send an HTML and plain text message</li>
<li>Automatically confirms that you are installed correctly</li>
</ul>

<h4>Extending</h4>

<p>== Frequently Asked Questions ==</p>

<h4>Postie won't connect to my mailserver. Why Not?</h4>

<p>Make sure the port you are using is open. For example, bluehost seems to block
ports 993 and 995 (for pop3-ssl and imap-ssl) by default. I have heard that
you can request that they open them for you ( you might have to pay extra).</p>

<p>You can check for open ports with the following command on your server:</p>

<pre><code>netstat -ln|grep -E &#039;:::(993|995|143)&#039;</code></pre>

<p>If nothing shows up, then the ports are not open.</p>

<h4>How can I get postie to display inline images?</h4>

<p>Make sure that you send e-mail formatted as html (richtext), and set postie to
prefer html messages (in the message tab of the postie settings)</p>

<h4>Mail is not showing up right when I send html (rich formatted) e-mail!</h4>

<p>Make sure you set the preferred text type to html</p>

<h4>Do I need to any code to my theme for postie to work?</h4>

<p>No.</p>

<h4>I read somewhere to add an iframe to my footer. Should I do this?</h4>

<p>No. Do not add an iframe in your footer to get postie to check mail
periodically. To check e-mail periodically, either set-up a cron job, or use
cronless postie. See installation instructions</p>

<h4>My mail host requires SSL, but postie will not allow me to select pop3-ssl or imap-ssl</h4>

<p>You must have php-imap installed on your server for this to work. Ask your
hosting provider about this.</p>

<h4>Can I use postie to check a gmail account?</h4>

<p>Yes. You can use either pop3-ssl or imap-ssl with a gmail account. Before
attempting to use with postie, make sure that you enable pop or imap in your
gmail preferences.</p>

<ul>
<li>Pop3 settings:

<ul>
<li>protocol - pop3-ssl</li>
<li>server - pop.gmail.com</li>
<li>port - 995</li>
<li>userid - your username (e.g. if your e-mail address is foo@gmail.com,
this would be just foo)</li>
<li>password - your password </li>
</ul></li>
<li>IMAP settings:

<ul>
<li>protocol - imap-ssl</li>
<li>server - imap.gmail.com</li>
<li>port - 993</li>
<li>userid - your username (e.g. if your e-mail address is foo@gmail.com,
this would be just foo)</li>
<li>password - your password </li>
</ul></li>
</ul>

<h4>Can I use postie with GoDaddy hosting?</h4>

<p>Yes, but you must use an email set up using the GoDaddy email service and the following settings:</p>

<ul>
<li>protocol - pop3</li>
<li>server - pop.secureserver.net</li>
<li>port - 110</li>
<li>userid - xxxxx@yourdomain</li>
<li>password - your password </li>
</ul>

<p>GoDaddy hosting does not allow you to connect to non-GoDaddy mail servers like Gmail.</p>

<h4>My posts show up as being posted by 'admin' instead of me. Why?</h4>

<p>If your admin account is linked to bar@gmail.com, and you send mail from
bar@gmail.com, it will show up as being posted by admin. If you have a
wordpress user named "John Doe", which is linked to johndoe@gmail.com, make
sure that you send e-mails from johndoe@gmail.com. It doesn't matter which
e-mail address postie is checking. That is, if you send mail from
johndoe@gmail.com to foo@gmail.com, it gets posted as "John Doe".</p>

<p>If you send an e-mail to your postie address from an e-mail address that is no
t linked to a wordpress user, it will get posted as admin.</p>

<h4>Images aren't showing up at all?</h4>

<p>There are a couple possible reasons for this. First, check to see if you can
add an image through wordpress's normal posting mechanism. If not, then there
is probably 1 or 2 problems:
1. Your server does not have the php-gd library installed. Ask your hosting
provider about this.</p>

<ol>
<li>Your wp-content/uploads directory is not writable by the webserver. Make
sure that it is</li>
</ol>

<h4>Can I delete the wp-files directory needed by postie version &lt;1.3.0?</h4>

<p>If you have posts published already by older versions of postie, getting rid
of those directories will delete any files you might have had associated with
those old posts. If you don't have any such posts, then you can safely delete
them.</p>

<h4>How can I get rid of stupid stuff my e-mail provider adds to my messages?</h4>

<p>To strip off stuff that they add at the beginning of a message, start your
post with :start</p>

<p>To strip off stuff that they add at the end of a message, end your
post with :end</p>

<h4>How can I add custom attachment icons?</h4>

<p>Simply upload the icons you want to the postie/icons/custom directory. You
must name the icons according to the following scheme:</p>

<pre><code>{filetype}-{size}.png</code></pre>

<p>NOTE THAT ANY CUSTOM FILES ADDED TO THE POSTIE DIRECTORY WILL BE DELETED IF YOU 
USE THE NORMAL WORDPRESS UPGRADE PROCESS.</p>

<p>For example, for word documents, you could use:</p>

<pre><code>doc-32.png</code></pre>

<p>for a 32x32 pixel icon. (You can actually create any size icon you want, but
if you name it 32, then it will only be used if you select to use size 32
icons)</p>

<p>See the other directories in icons for more examples.</p>

<p>Currently the following filetypes are supported:</p>

<ul>
<li>doc - microsoft word (including docx)</li>
<li>ppt - microsoft powerpoint (including pptx)</li>
<li>xls - microsoft excel (including xlsx)</li>
<li>numbers - iWork numbres spreadsheet</li>
<li>pages - iWork pages document</li>
<li>key - iWork keynote presentation</li>
<li>pdf - portable document format</li>
<li>rtf - rich text format</li>
<li>txt - plain text document</li>
</ul>

<h4>Can I add special text to the body of the post when using postie?</h4>

<p>Yes. You can create your own function, and use the postie_post filter.
Two short examples are included in the filterPostie.php.sample file</p>

<h4>Can I add special text to the title of the post when using postie?</h4>

<p>Yes. You can create your own function, and use the postie_post filter.
Two short examples are included in the filterPostie.php.sample file</p>

<h4>Can I select tags or categories based on the content of the e-mail?</h4>

<p>Yes. You can create your own function, and use the postie_post filter.
See the filterPostie.php.sample file for examples.</p>

<h4>Is the IMAP extension required for postie?</h4>

<p>The IMAP extension is not required, but it is strongly recommended, especially
is you are using non-English text. There is more information on php.net about
installing the IMAP extension. If you have control over your server, it is
often not hard to install.</p>

<p>On Ubuntu, try</p>

<pre><code>sudo apt-get install php5-imap</code></pre>

<p>On Fedora, try</p>

<pre><code>sudo yuminstall php-imap</code></pre>

<p>The IMAP extension is known to be installed on the following popular webhosts:
* Dreamhost</p>

<h4>How can I embed youtube or vimeo videos?</h4>

<p>Simply put the url in the body of your e-mail. (Make sure that you have the
option to convert url into links turned on)</p>

<h4>Something is going wrong, how do I see what is happening?</h4>

<p>Add the following lines to your wp-config.php file</p>

<pre><code>define(&#039;WP_DEBUG&#039;, true);
define(&#039;WP_DEBUG_LOG&#039;, true);
define(&#039;POSTIE_DEBUG&#039;, true);</code></pre>

<p>Various errors, warning and informational will be written to the wp-content\debug.log
file. There may also be all sorts of warnings and messages in your site as well
depending on how well behaved your other plugins and themes are, so you will not
want to leave these settings set to true all the time.</p>

<h4>Why doesn't Postie automatically publish my emails when running manually works</h4>

<p>WordPress cron (which Postie relies on) doesn't run unless a page is accessed on the 
site. So if you send an email, but nobody accesses the site for 3 days Postie won't 
be given the chance to fetch the email and publish the post.</p>

<p>To ensure that Postie runs smoothly on a low or no volume site you need to ensure that 
a page gets hit (any page is fine). Use something like cron + curl on Linux or install 
curl on Windows and use the Scheduled Tasks control panel. If you are using a hosting company
that doesn't allow you access to cron you can use a service like 
<a href="https://www.setcronjob.com/">SetCronJob</a>.</p>

<p>It is also possible to turn the WordPress cron off. Please make sure something like</p>

<pre><code>define(&#039;DISABLE_WP_CRON&#039;, true);</code></pre>

<p>is not in your wp-config.php file.</p>
<hr />

